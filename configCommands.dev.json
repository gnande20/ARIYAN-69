module.exports = {
  config: {
    nom: "callad",
    version: "1.0",
    auteur: "Gnande",
    description: "Mentionne tous les admins du groupe",
    utilisation: "/callad",
    permissions: [0],
    prefixe: true
  },

  onStart: async function ({ message, event, api }) {
    const info = await api.getThreadInfo(event.threadID);
    const adminIDs = info.adminIDs.map(e => e.id);
    const mentions = [];
    let texte = "📢 | Appel des administrateurs :\n\n";

    for (const user of info.userInfo) {
      if (adminIDs.includes(user.id) && user.id !== api.getCurrentUserID()) {
        mentions.push({ tag: user.name, id: user.id });
        texte += `👮 ${user.name}\n`;
      }
    }

    if (mentions.length === 0) {
      return message.reply("❌ | Aucun administrateur trouvé dans ce groupe.");
    }

    return message.reply({ body: texte, mentions });
  }
};
